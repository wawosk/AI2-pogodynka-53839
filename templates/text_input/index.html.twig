{% extends 'base.html.twig' %}

{% block title %}Hello TextInputController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
        .xss-demo { border: 2px solid #dc3545; padding: 15px; margin: 10px 0; background: #f8d7da; }
        .safe-demo { border: 2px solid #28a745; padding: 15px; margin: 10px 0; background: #d4edda; }
    </style>

    <div class="example-wrapper">
        <h1>Hello {{ controller_name }}! âœ…</h1>

        {{ form_start(form) }}
        {{ form_widget(form) }}
        <button type="submit" class="btn btn-primary">Submit</button>
        {{ form_end(form) }}

        {% if submittedText is not empty %}
            <div class="mt-4">
                <h2>Submitted Text:</h2>

                <div class="safe-demo">
                    <h3>With Auto-escaping (Safe):</h3>
                    <p>{{ submittedText }}</p>
                </div>

                <div class="xss-demo">
                    <h3>With |raw filter (Vulnerable to XSS):</h3>
                    <p>{{ submittedText|raw }}</p>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}

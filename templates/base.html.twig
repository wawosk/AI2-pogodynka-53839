<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">

    <style>
        body {
            background: url("https://placehold.co/100x100/FFFFFF/EFEFEF/png?text=53839");
            padding-top: 20px;
        }
        .main-nav {
            margin-bottom: 30px;
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            border: 1px solid #dee2e6;
        }
    </style>

    {% block stylesheets %}
    {% endblock %}

    {% block javascripts %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {% endblock %}
</head>
<body>
<div class="container">
    <!-- Nawigacja globalna -->
    <nav class="main-nav text-center">
        <a href="{{ path('app_location_index') }}" class="btn btn-outline-primary me-2">Locations</a>
        <a href="{{ path('app_measurement_index') }}" class="btn btn-outline-primary me-2">Measurements</a>

        <!-- DODAJ TUTAJ LINK LOGIN/LOGOUT -->
        {% if is_granted('ROLE_USER') %}
            <a href="{{ path('app_logout') }}" class="btn btn-outline-danger">Logout</a>
        {% else %}
            <a href="{{ path('app_login') }}" class="btn btn-outline-success">Login</a>
        {% endif %}
    </nav>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}

    {% block body %}{% endblock %}
</div>
</body>
</html>
